# JZ23.链表中环的入口结点

第一种思路，还是用 set 存指针

```cpp
class Solution {
public:
    ListNode* EntryNodeOfLoop(ListNode* pHead) {
        std::set<ListNode*> st;
        ListNode* p = pHead;
        while(p)
        {
            if(st.count(p)) return p;
            else
            {
                st.insert(p);
                p = p -> next;
            }
        }
        return nullptr;
    }
};
```

结合 BM6，继续使用快慢指针

```cpp
class Solution {
public:
    bool hasCycle(ListNode *head) {
        if (head == nullptr) return false;
        ListNode *slow = head, *fast = head;
        do
        {
            if(slow -> next != nullptr) slow = slow -> next;
            else return false;
            if(fast -> next != nullptr && fast -> next -> next != nullptr) fast = fast -> next -> next;
            else return false;
        }while(slow != fast);
        return true;
    }

    ListNode* EntryNodeOfLoop(ListNode* pHead) {
        if(!hasCycle(pHead)) return nullptr;
        // 现在确定有环
        ListNode *slow = pHead, *fast = pHead;
        do
        {
            slow = slow -> next;
            fast = fast -> next -> next;
        }while(slow != fast);
        fast = pHead;
        while(fast != slow) slow = slow -> next, fast = fast -> next;
        return fast;
    }
};
```