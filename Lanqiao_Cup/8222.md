# 8222.电量回文

这题主要是需要找到并查集的逻辑何在

要构造回文串，本质上就是将 i 和 n - i + 1 两个元素划上等号，然后改变其中之一即可

换句话说，只需要计算出合并了几次，最终答案就是几

```cpp
#include <bits/stdc++.h>
const int N = 2e5+3;
int pre[N];

int getRoot(int x)
{
    return pre[x] = (pre[x] == x ? x :getRoot(pre[x]));
}

int main()
{
    std::ios::sync_with_stdio(false), std::cin.tie(nullptr), std::cout.tie(nullptr);
    int n;
    std::cin >> n;
    std::vector<int> v(n+1);
    for (int i = 1; i <= n; i++) std::cin >> v[i];
    for (int i = 1; i <= 1e5+3; i++) pre[i] = i;
    int ans = 0;
    for (int i = 1; i <= (n+1) >> 1; i++)
    {
        if (v[i] != v[n - i + 1])
        {
            // 判断二者是否已经等价
            if (getRoot(v[i]) != getRoot(v[n - i + 1]))
            {
                // 此时需要让 v[i] 与 v[n - i + 1] 等价
                pre[getRoot(v[i])] = getRoot(v[n - i + 1]);
                ans ++;
            }
        }
    }
    std::cout << ans  << '\n';
    return 0;
}
```