# 4376.小沸的疯狂实验

- 第一眼，蛮简单的啊
- 第二眼，诶，好像思路不太对？
- 我以为可以直接 (b - a) * (d - c)，但是想了一下感觉好像考虑的太简单了，于是重新思考并且整理了一下思路
- 对于（x,y)，枚举 x 后，可以直接计算合法的 y 数量
- 优化方面，如果 a >= d 的话，x 最小值也将大于等于 y 的最大值，所有情况均不合法，不用在枚举和计算了
- 另外，虽然不知道存不存在 b < a 或 d < c 这样的样例，但还是顺手优化了
- 这题官网蛮坑的，输出样例居然给错了，导致我查了好久也没查出来问题，最后不得已只能手列了几个，才发现样例给错了

```cpp
#include <bits/stdc++.h>
#define ll long long
const int N = 1e6 + 3;

void solve()
{
    int a,b,c,d;
    std::cin>>a>>b>>c>>d;
    ll ans = 0;
    if ( b < a || d < c )
    {
        std::cout<<0<<'\n';
        return;
    }
    for (int i = a; i <= b; i++)
    {
        if (i < c) ans += d - c + 1;
        else if (i >= c && i < d) ans += d - i;
    }
    std::cout<<ans<<'\n';
    return;
}

int main()
{
    std::ios::sync_with_stdio(false),std::cin.tie(nullptr),std::cout.tie(nullptr);
    int t;
    std::cin>>t;
    while (t--) solve();
    return 0;
}
```