# 4527.小蓝的最大集合

这题手写堆比较好实现

```cpp
#include<bits/stdc++.h>
#define ll long long
const int N = 2e5+3;
ll a[N];
int sz;

void pushUp(ll x)
{
    if (x == 1) return;
    if (a[x] > a[x >> 1])
    {
        std::swap(a[x], a[x >> 1]);
        pushUp(x >> 1);
    }
}

void pushDown(ll x)
{
    if (x << 1 > sz) return;

    if (x << 1 == sz)
    {
        if (a[x << 1] > a[x])
        {
            std::swap(a[x], a[x << 1]);
            pushDown(x << 1);
        }
    }
    else
    {
        if (a[x] >= std::max(a[x << 1], a[x << 1 | 1])) return;

        if (a[x << 1] > a[x << 1 | 1])
        {
            std::swap(a[x], a[x << 1]);
            pushDown(x << 1);
        }
        else
        {
            std::swap(a[x], a[x << 1 | 1]);
            pushDown(x << 1 | 1);
        }
    }
}

void push(ll x)
{
    a[++sz] = x;
    pushUp(sz);
}

void pop()
{
    a[1] = a[sz--];
    pushDown(1);
}

int main()
{
    std::ios::sync_with_stdio(false),std::cin.tie(nullptr),std::cout.tie(nullptr);
    int n, k;
    std::cin >> n >> k;
    push(k);
    for (int i = 1; i <= n; i++)
    {
        int op;
        std::cin >> op;
        if (op == 4)
        {
            std::cout << a[1] << '\n';
            pop();
        }
        else
        {
            int x;
            switch (op)
            {
                case 1:
                    int num;
                    std::cin >> num;
                    push(num);
                    break;
                case 2:
                    std::cin >> x;
                    for (int j = 1; j <= sz; j++) a[j] += x;
                    break;
                case 3:
                    std::cin >> x;
                    for (int j = 1; j <= sz; j++) a[j] -= x;
                    break;
            }
        }
    }
    return 0;
}
```